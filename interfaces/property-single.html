<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <title>Sakancom</title>
  <link href="../resources/public_html/assets/img/loyintlogos/logow.svg" rel="icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="../Houses/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="../Houses/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="../Houses/lib/animate/animate.min.css" rel="stylesheet">
  <link href="../Houses/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="../Houses/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="../Houses/css/style.css" rel="stylesheet">


<body>

<div class="box-collapse" style="background-color: #DDB6A5">
  <div class="title-box-d">
    <h3 class="title-d">Rent Property</h3>
  </div>
  <span class="close-box-collapse right-boxed ion-ios-close" style="color: black"></span>
  <div class="box-collapse-wrap form">
    <form class="form-a">
      <div class="row">
        <div class="form-card">
          <div class="row">
          </div>
          <label class="fieldlabels">Email Tenant: *</label>
          <input type="email" id="email1" name="email1" placeholder="Email Tenant" readonly/>
          <p id="emailError" style="color: red"></p>

          <label class="fieldlabels">Email Owner: *</label>
          <input type="email" id="email2" name="email2" placeholder="Email Owner" readonly />

          <label class="fieldlabels">Number: *</label>
          <input type="number" id="number" name="number" placeholder="ID" readonly />

          <label class="fieldlabels">Rent Date: *</label> <input type="month" name="rentDate" id="rentDate" onchange="checkMonth()" placeholder="RentDate"   />



          </br>

          <!-- Submit button placed right here -->
          <input type="button" name="next" class="next action-button" value="Submit" style="margin-top: 10px; border-radius: 20px; background-color: #22b3c1; color: whitesmoke; border: #22b3c1; padding: 15px; height: 60px; width: 100px" />
        </div>
      </div>
    </form>
  </div>
</div>
<!--/ Form Search End /-->

<!--/ Nav Star /-->
<nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top " style="position: absolute; background-color: #22b3c1; height: 9.1rem; font-family: 'Poppins', sans-serif;"  >
  <div class="container">
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault"
            aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <a href="tenantUserIndex.html" class="logo">
      <img src="Screenshot_2023-07-02_at_13.13.32-removebg.png" alt="" style="width: 250px; margin-left: 5rem ">
    </a>
    <button type="button" class="btn btn-link nav-search navbar-toggle-box-collapse d-md-none" data-toggle="collapse"
            data-target="#navbarTogglerDemo01" aria-expanded="false">
      <span class="fa fa-search" aria-hidden="true"></span>
    </button>
    <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
      <ul class="navbar-nav">
        <li class="nav-item">

          <a class="nav-link" href="viewHousesTenant.html" style="margin-left: 10px; margin-right: 10px; color: #FFFFFF; font-size: larger">Residences</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="Reservetions.html" style="margin-left: 10px; margin-right: 10px;color: #FFFFFF;font-size: larger">Reservations</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="buyFurniture.html" style="margin-left: 10px; margin-right: 10px;color: #FFFFFF;font-size: larger">Furniture</a>
        </li>


        <li class="nav-item">
          <a class="nav-link" href="HomePage.html" style="margin-left: 10px; margin-right: 10px; ">Log Out</a>
        </li>



      </ul>
    </div>

  </div>
</nav>
<br>
<br>
<br>

<!--/ Intro Single star /-->
section class="intro-single">
<div class="container">
  <div class="row">
    <div class="col-md-12 col-lg-8">
      <div class="title-single-box">
        <h1 class="title-single">304 Blaster Up</h1>
   <br>
      </div>
    </div>
    <div class="col-md-12 col-lg-4">
      <nav aria-label="breadcrumb" class="breadcrumb-box d-flex justify-content-lg-end">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="tenantUserIndex.html">Home</a>
          </li>
          <li class="breadcrumb-item">
            <a href="viewHousesTenant.html">Properties</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            304 Blaster Up
          </li>
        </ol>
      </nav>
    </div>
  </div>
</div>
</section>
<!--/ Intro Single End /-->

<!--/ Property Single Star /-->
<section class="property-single nav-arrow-b">
  <div class="container">
    <div class="row">
      <div class="col-sm-12" >


        <div id="pDiv" class="carousel-container">

        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>






        <div class="row justify-content-between">
          <div class="col-md-5 col-lg-4">
            <div class="property-price d-flex justify-content-center foo">
              <div class="card-header-c d-flex">
                <div class="card-box-ico">
                  <span class="ion-money">$</span>
                </div>
                <div class="card-title-c align-self-center">
                  <h5 class="title-c" id="propertyPrice">15000</h5>
                </div>
              </div>
            </div>
            <div class="property-summary">
              <div class="row">
                <div class="col-sm-12">
                  <div class="title-box-d section-t4">
                    <h3 class="title-d">Quick Summary</h3>
                  </div>
                </div>
              </div>
              <div class="summary-list">
                <ul class="list">
                  <li class="d-flex justify-content-between">
                    <strong>Property ID:</strong>
                    <span id="propertyID">1134</span>
                  </li>
                  <li class="d-flex justify-content-between">
                    <strong>Location:</strong>
                    <span id="location">Chicago, IL 606543</span>
                  </li>


                  <li class="d-flex justify-content-between">
                    <strong>Area:</strong>
                    <span id="area">
                        <sup> 2 </sup>
                      </span>
                  </li>
                  <li class="d-flex justify-content-between">
                    <strong>Beds:</strong>
                    <span id="beds">4</span>
                  </li>
                  <li class="d-flex justify-content-between">
                    <strong>Baths:</strong>
                    <span id="baths">2</span>
                  </li>
                  <li class="d-flex justify-content-between">
                    <strong>Floor(s):</strong>
                    <span id="floorCount">1</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-7 col-lg-7 section-md-t3">
            <div class="row">
              <div class="col-sm-12">
                <div class="title-box-d">
                  <h3 class="title-d">Property Description</h3>
                </div>
              </div>
            </div>
            <div class="property-description">
              <p class="description color-text-a" id="propertyDescription">
                Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit
                neque, auctor sit amet
                aliquam vel, ullamcorper sit amet ligula. Cras ultricies ligula sed magna dictum porta.
                Curabitur aliquet quam id dui posuere blandit. Mauris blandit aliquet elit, eget tincidunt
                nibh pulvinar quam id dui posuere blandit.
              </p>

            </div>
            <div class="row section-t3">
              <div class="col-sm-12">
                <div class="title-box-d">
                  <h3 class="title-d">Services</h3>
                </div>
              </div>
            </div>
            <div class="amenities-list color-text-a">
              <ul class="list-a no-margin">






              </ul>
            </div>
          </div>
        </div>
      </div>

      <div>
        <button type="button" class="btn btn-b-n navbar-toggle-box-collapse d-none d-md-block" data-toggle="collapse"
                data-target="#navbarTogglerDemo01" aria-expanded="false" style="margin: 7rem;margin-left:30rem; padding: 1rem;border-radius: 10px;padding-left:2rem;padding-right: 2rem; background-color: #22b3c1; font-size: larger ">
          Rent
        </button>
      </div>
    </div>
  </div>


</section>
<!--/ Property Single End /-->

<!--/ footer Star /-->

<footer class="footer-distributed">

  <div class="footer-left">

    <a  class="logo">
      <img src="Screenshot_2023-07-02_at_13.13.32-removebg.png" alt="" style="width: 250px;  ">
    </a>



    <p class="footer-company-name" style="color: #FFFFFF;padding-top: 3rem ">Sakancom Â© 2015</p>
  </div>

  <div class="footer-center">

    <div>
      <i class="fa fa-map-marker"></i>
      <p><span>Rafedyia Street</span> Nablus, Palestine</p>
    </div>

    <div>
      <i class="fa fa-phone"></i>
      <p>+972595254709</p> </br>
      <p style="padding-left: 4.5rem">+970598666558</p>
    </div>

    <div>
      <i class="fa fa-envelope"></i>
      <p><a href="mailto:yossalam261@gmail.com">yossalam261@gmail.com</a></p></br>
      <p style="padding-left: 4.5rem"><a href="mailto:mohammadaker7@gmail.com">mohammadaker7@gmail.com</a></p>
    </div>

  </div>

  <div class="footer-right">

    <p class="footer-company-about">
      <span>About the company</span>
      Sakancom offers a diverse range of rental properties to suit every budget. With a commitment to service and transparency, we make finding your perfect home easy and enjoyable
    </p>

    <div class="footer-icons">

      <a href="https://www.facebook.com/yusuf.salam.568/"><i class="fa fa-facebook"></i></a>
      <a href="https://twitter.com/YoSSalam2"><i class="fa fa-twitter"></i></a>
      <a href="https://www.linkedin.com/in/yossalam8/"><i class="fa fa-linkedin"></i></a>
      <a href="https://github.com/YoSSalam8"><i class="fa fa-github"></i></a>

    </div>

  </div>

</footer>
<!--/ Footer End /-->

<a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
<div id="preloader"></div>

<!-- JavaScript Libraries -->
<script src="../Houses/lib/jquery/jquery.min.js"></script>
<script src="../Houses/lib/jquery/jquery-migrate.min.js"></script>
<script src="../Houses/lib/popper/popper.min.js"></script>
<script src="../Houses/lib/bootstrap/js/bootstrap.min.js"></script>
<script src="../Houses/lib/easing/easing.min.js"></script>
<script src="../Houses/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="../Houses/lib/scrollreveal/scrollreveal.min.js"></script>
<!-- Contact Form JavaScript File -->
<script src="../Houses/contactform/contactform.js"></script>

<!-- Template Main Javascript File -->
<script src="../Houses/js/main.js"></script>
<script>
  function checkMonth() {
    // Get the value from the input fields
    var rentDate = document.getElementById("rentDate").value;
    var number = document.getElementById("number").value;

    // Check if the "number" field is empty
    if (!number) {
      alert("Please enter a number.");
      return; // Exit the function
    }

    // Extract the year and month from the input field value
    var year = rentDate.slice(0, 4);
    var month = rentDate.slice(5, 7);
    var rentDateString = `${year}-${month.padStart(2, '0')}`;

    var checkEmailData = {
      // Data to be sent
      number: number
    };
    // AJAX request: Check if the rent date is available for the specified "number"
    $.ajax({
      data: checkEmailData,
      url: "http://localhost:9090/rent/dates",
      type: "GET",
      success: function (dates) {
        // Check if the rent date exists for the specified number
        if (dates.includes(rentDateString)) {
          alert("This month is already taken for the specified number. Please choose a different month.");
          // Reset the value of the input field
          document.getElementById("rentDate").value = "";
        }
      },
      error: function (error) {
        console.log(error);
      }
    });
  }
</script>



<script>

  $(document).ready(function(){
    $(".action-button").click(function(){
      if($(this).val() === "Submit") {
        var email1 = $("input[name='email1']").val();
        var email2 = $("input[name='email2']").val();
        var no = $("input[name='number']").val();
        var Date = $("input[name='rentDate']").val();
        var month = $("input[name='no_Month']").val();


        var formData = {
          email: email1,
          ownerEmail: email2,
          date: Date,
          number:no,
          noMonth:month,

        };

        $.ajax({
          url: 'http://localhost:9090/rent/saveRent',
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(formData),

          success: function (data) {
            alert("Form submitted successfully.")
            console.log('Form submitted successfully. Returned data: ', data);
          },
          error: function (request, status, error) {
            console.error();
          }
        });
      }
    });
  });
</script>
<script>




  var getProperty = "http://localhost:9090/residence/test";


  var propertyID = {
    // Data to be sent
    id: localStorage.getItem('propertyID'),
  };





  $.ajax({
    data: propertyID,
    url: getProperty,
    type: "GET",
    success: function(response) {
      console.log(response)

      document.getElementById("propertyDescription").textContent=response.description;
      document.getElementById("propertyPrice").textContent=response.price;
      document.getElementById("floorCount").textContent=response.floorCount;
      document.getElementById("location").textContent=response.country+", "+response.city+", "+response.location;
      document.getElementById("propertyID").textContent=response.id;
      document.getElementById("baths").textContent=response.bathrooms;
      document.getElementById("beds").textContent=response.bedrooms;
      document.getElementById("area").textContent=response.area+" m2";
      document.getElementById("email2").value=response.ownerEmail;
      document.getElementById("number").value=response.id;
      document.getElementById("email1").value=getCookie('userEmail');




      const ulElement = document.querySelector('.amenities-list .list-a');

      const numberOfNewLiElements = response.services.length;

      for (let i = 0; i < numberOfNewLiElements; i++) {
        const newLiElement = document.createElement('li');
        newLiElement.textContent = response.services[i];
        ulElement.appendChild(newLiElement);
      }




      const parentDiv = document.getElementById('pDiv');
      const newOwlDiv = document.createElement('div');
      newOwlDiv.classList.add("owl-carousel", "owl-arrow", "gallery-property");

      for (let i = 0; i < response.images.length; i++) {
        const newDiv = document.createElement('div');
        newDiv.classList.add('carousel-item-b');
        const newImg = document.createElement('img');
        newImg.src = response.images[i];
        newImg.alt = '';
        newDiv.appendChild(newImg);
        newOwlDiv.appendChild(newDiv);
      }

      const prevArrow = document.createElement('div');
      prevArrow.classList.add('owl-prev');
      prevArrow.innerHTML = '<span class="fa fa-chevron-left"></span>';

      const nextArrow = document.createElement('div');
      nextArrow.classList.add('owl-next');
      nextArrow.innerHTML = '<span class="fa fa-chevron-right"></span>';

      newOwlDiv.appendChild(prevArrow);
      newOwlDiv.appendChild(nextArrow);

      parentDiv.appendChild(newOwlDiv);

      // Initialize the Owl Carousel AFTER the images are appended
      $(document).ready(function () {
        $('.gallery-property').owlCarousel({
          // Owl Carousel options
          loop: false,
          margin: 10,
          items: 1, // Set the number of images per slide to 1 for all screen sizes
          responsiveClass: true,
          responsive: {
            0: {
              items: 1,
            },
          },
          nav: true, // Enable arrow navigation
          navContainer: null, // Prevent Owl Carousel from creating additional navigation elements

          navText: [
            '<span class="fa fa-chevron-left"></span>',
            '<span class="fa fa-chevron-right"></span>'
          ],
        });
      });
    },
    error: function (error) {
      console.log(Error);
    },
  });



  function getCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) === ' ') {
        c = c.substring(1, c.length);
      }
      if (c.indexOf(nameEQ) === 0) {
        return decodeURIComponent(c.substring(nameEQ.length, c.length));
      }
    }
    return null;
  }

</script>


</body>
</html>
